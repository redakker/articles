<div class="modal-header">
    <h4 class="modal-title">
        <span *ngIf="article.id">Edit article</span>
        <span *ngIf="!article.id">New article</span>
    </h4>
      <i class="fa fa-times hand" (click)="modal.dismiss('Cross click')"></i>
  </div>
  <div class="modal-body">
    <form class="border border-light" [formGroup]="form" >
        <!-- Title -->
        <input type="text" formControlName="title" class="form-field form-control" [ngClass]="{'border border-danger' : fieldHasError('title')}" placeholder="Title">
        <div *ngIf="fieldHasError('title')" class="float-left text-danger"><small>Title is required!</small></div>
        <div class="float-none mb-2">&nbsp;</div>
    
        <!-- Description -->
        <input type="text" formControlName="description" class="form-field form-control" [ngClass]="{'border border-danger' : fieldHasError('description')}" placeholder="Description">
        <div *ngIf="fieldHasError('description')" class="float-left text-danger"><small>Description is required and maximum length is 30 characters</small></div>
        <div class="float-none mb-2">&nbsp;</div>
    
        <!-- Body -->
        <textarea  formControlName="body" class="form-field form-control articleBody" placeholder="Body"></textarea>
        <div class="float-none mb-2">&nbsp;</div>
        
        <!-- Tags -->
        Tags (max {{maxItems}} items):
        <tag-input 
          [(ngModel)]="tagList" 
          [ngModelOptions]="{standalone: true}" 
          [maxItems]="maxItems" 
          [separatorKeys]="tagseparators" 
          (onRemove)="setDirty()"
          (onAdd)="setDirty()"
        >
        </tag-input>
        <div class="float-none mb-2">&nbsp;</div>
        
        <!-- Image -->
        <small *ngIf="form.get('title')?.value == ''">Image is autogenerated from the first word of the title.</small>

        <div class="picture" *ngIf="form.get('title')?.value != ''">
            <small>Autogenerated image from title.</small>
            <img class="" [src]="'https://loremflickr.com/600/200/' + getPictureKeyWord(form.get('title')?.value)">
        </div>

        <div class="float-none mb-2">&nbsp;</div>
    
    
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-info" (click)="save()" [disabled]="!form.dirty || !form.valid">Save</button>
    <button type="button" class="btn btn-secondary" (click)="modal.dismiss(false)">Cancel</button>
  </div>